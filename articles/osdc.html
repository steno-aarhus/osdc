<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="osdc">
<title>Getting started with osdc • osdc</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Getting started with osdc">
<meta property="og:description" content="osdc">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">osdc</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.0.1.9000</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="active nav-item">
  <a class="nav-link" href="../articles/osdc.html">Get started</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/design.html">Design</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/steno-aarhus/osdc/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Getting started with osdc</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/steno-aarhus/osdc/blob/HEAD/vignettes/osdc.Rmd" class="external-link"><code>vignettes/osdc.Rmd</code></a></small>
      <div class="d-none name"><code>osdc.Rmd</code></div>
    </div>

    
    
<p>This package serves two overarching purposes:</p>
<ol style="list-style-type: decimal">
<li>To provide an open-source, code-based algorithm to classify type 1
and type 2 diabetes using Danish registers as data sources.</li>
<li>To inspire discussions within the Danish register-based research
space on the openness and ease of use on the existing tooling and
registers, and on the need for an official process for updating or
contributing to existing data sources.</li>
</ol>
<p>To read up on the overall design of this package as well as on the
algorithm, check out the <code><a href="../articles/design.html">vignette("design")</a></code>. For more
explanation on the motivations, rationale, and needs for this algorithm
and package, check out the <code>vignette("explanation")</code>.</p>
<div class="section level2">
<h2 id="usage">Usage<a class="anchor" aria-label="anchor" href="#usage"></a>
</h2>
<p>First, let’s load up the package, as well as dplyr.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://dplyr.tidyverse.org" class="external-link">dplyr</a></span><span class="op">)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Attaching package: 'dplyr'</span></span>
<span><span class="co">#&gt; The following objects are masked from 'package:stats':</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;     filter, lag</span></span>
<span><span class="co">#&gt; The following objects are masked from 'package:base':</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;     intersect, setdiff, setequal, union</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/steno-aarhus/osdc" class="external-link">osdc</a></span><span class="op">)</span></span></code></pre></div>
<p>The core of this package depends on the list of variables within
different registers that are needed in order to classify the diabetes
status of an individual. This can be found in the dataset:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">variable_description</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 39 × 6</span></span></span>
<span><span class="co">#&gt;    register_name  register_abbrev variable_name years_covered danish_description</span></span>
<span><span class="co">#&gt;    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>          <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>           <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>         <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>         <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>             </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 1</span> cpr_registere… bef             pnr           1968_onward   pseudonymiseret_c…</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 2</span> cpr_registere… bef             koen          1968_onward   koen              </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 3</span> cpr_registere… bef             foed_dato     1968_onward   foedselsdato      </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 4</span> laegemiddelst… lmdb            pnr           1995_onward   pseudonymiseret_c…</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 5</span> laegemiddelst… lmdb            eksd          1995_onward   ekspeditionsdato  </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 6</span> laegemiddelst… lmdb            atc           1995_onward   atc_kode_fuld     </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 7</span> laegemiddelst… lmdb            volume        1995_onward   antal_standarddos…</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 8</span> laegemiddelst… lmdb            apk           1995_onward   antal_pakker_koebt</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 9</span> laegemiddelst… lmdb            indo          1995_onward   indikationskode_f…</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">10</span> laegemiddelst… lmdb            name          1995_onward   praeparatnavn     </span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># ℹ 29 more rows</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># ℹ 1 more variable: english_description &lt;chr&gt;</span></span></span></code></pre></div>
<p>Let’s convert that to a nicer format to show the list as a table.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">variable_description</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="va">register_name</span>, <span class="va">register_abbrev</span>, <span class="va">variable_name</span>, <span class="va">english_description</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu">knitr</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/knitr/man/kable.html" class="external-link">kable</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<table class="table">
<colgroup>
<col width="34%">
<col width="12%">
<col width="14%">
<col width="38%">
</colgroup>
<thead><tr class="header">
<th align="left">register_name</th>
<th align="left">register_abbrev</th>
<th align="left">variable_name</th>
<th align="left">english_description</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">cpr_registerets_befolkningstabel</td>
<td align="left">bef</td>
<td align="left">pnr</td>
<td align="left">pseudonymised_social_security_number</td>
</tr>
<tr class="even">
<td align="left">cpr_registerets_befolkningstabel</td>
<td align="left">bef</td>
<td align="left">koen</td>
<td align="left">sex</td>
</tr>
<tr class="odd">
<td align="left">cpr_registerets_befolkningstabel</td>
<td align="left">bef</td>
<td align="left">foed_dato</td>
<td align="left">date_of_birth</td>
</tr>
<tr class="even">
<td align="left">laegemiddelstatistikregisteret</td>
<td align="left">lmdb</td>
<td align="left">pnr</td>
<td align="left">pseudonymised_social_security_number</td>
</tr>
<tr class="odd">
<td align="left">laegemiddelstatistikregisteret</td>
<td align="left">lmdb</td>
<td align="left">eksd</td>
<td align="left">date_of_purchase</td>
</tr>
<tr class="even">
<td align="left">laegemiddelstatistikregisteret</td>
<td align="left">lmdb</td>
<td align="left">atc</td>
<td align="left">atc_code</td>
</tr>
<tr class="odd">
<td align="left">laegemiddelstatistikregisteret</td>
<td align="left">lmdb</td>
<td align="left">volume</td>
<td align="left">number_of_daily_doses_in_package</td>
</tr>
<tr class="even">
<td align="left">laegemiddelstatistikregisteret</td>
<td align="left">lmdb</td>
<td align="left">apk</td>
<td align="left">number_of_packages_purchased</td>
</tr>
<tr class="odd">
<td align="left">laegemiddelstatistikregisteret</td>
<td align="left">lmdb</td>
<td align="left">indo</td>
<td align="left">indication_code</td>
</tr>
<tr class="even">
<td align="left">laegemiddelstatistikregisteret</td>
<td align="left">lmdb</td>
<td align="left">name</td>
<td align="left">drug_retail_name</td>
</tr>
<tr class="odd">
<td align="left">laegemiddelstatistikregisteret</td>
<td align="left">lmdb</td>
<td align="left">vnr</td>
<td align="left">item_code</td>
</tr>
<tr class="even">
<td align="left">landspatientregisteret_lpr2_administration</td>
<td align="left">lpr_adm</td>
<td align="left">pnr</td>
<td align="left">pseudonymised_social_security_number</td>
</tr>
<tr class="odd">
<td align="left">landspatientregisteret_lpr2_administration</td>
<td align="left">lpr_adm</td>
<td align="left">recnum</td>
<td align="left">record_id_number</td>
</tr>
<tr class="even">
<td align="left">landspatientregisteret_lpr2_administration</td>
<td align="left">lpr_adm</td>
<td align="left">d_inddto</td>
<td align="left">date_of_admission_or_initial_contact</td>
</tr>
<tr class="odd">
<td align="left">landspatientregisteret_lpr2_administration</td>
<td align="left">lpr_adm</td>
<td align="left">c_spec</td>
<td align="left">specialty_code_of_department</td>
</tr>
<tr class="even">
<td align="left">landspatientregisteret_lpr2_administration</td>
<td align="left">lpr_adm</td>
<td align="left">c_pattype</td>
<td align="left">patient_contact_type</td>
</tr>
<tr class="odd">
<td align="left">landspatientregisteret_lpr2_diagnoser</td>
<td align="left">lpr_diag</td>
<td align="left">recnum</td>
<td align="left">record_id_number</td>
</tr>
<tr class="even">
<td align="left">landspatientregisteret_lpr2_diagnoser</td>
<td align="left">lpr_diag</td>
<td align="left">c_diag</td>
<td align="left">diagnosis_code</td>
</tr>
<tr class="odd">
<td align="left">landspatientregisteret_lpr2_diagnoser</td>
<td align="left">lpr_diag</td>
<td align="left">c_diagtype</td>
<td align="left">diagnosis_type</td>
</tr>
<tr class="even">
<td align="left">landspatientregisteret_lpr3_kontakter</td>
<td align="left">kontakter</td>
<td align="left">cpr</td>
<td align="left">pseudonymised_social_security_number</td>
</tr>
<tr class="odd">
<td align="left">landspatientregisteret_lpr3_kontakter</td>
<td align="left">kontakter</td>
<td align="left">dw_ek_kontakt</td>
<td align="left">record_id_number</td>
</tr>
<tr class="even">
<td align="left">landspatientregisteret_lpr3_kontakter</td>
<td align="left">kontakter</td>
<td align="left">dato_start</td>
<td align="left">date_of_admission_or_initial_contact</td>
</tr>
<tr class="odd">
<td align="left">landspatientregisteret_lpr3_kontakter</td>
<td align="left">kontakter</td>
<td align="left">hovedspeciale_ans</td>
<td align="left">specialty_of_department</td>
</tr>
<tr class="even">
<td align="left">landspatientregisteret_lpr3_diagnoser</td>
<td align="left">diagnoser</td>
<td align="left">dw_ek_kontakt</td>
<td align="left">record_id_number</td>
</tr>
<tr class="odd">
<td align="left">landspatientregisteret_lpr3_diagnoser</td>
<td align="left">diagnoser</td>
<td align="left">diagnosekode</td>
<td align="left">diagnosis_code</td>
</tr>
<tr class="even">
<td align="left">landspatientregisteret_lpr3_diagnoser</td>
<td align="left">diagnoser</td>
<td align="left">diagnosetype</td>
<td align="left">diagnosis_type</td>
</tr>
<tr class="odd">
<td align="left">landspatientregisteret_lpr3_diagnoser</td>
<td align="left">diagnoser</td>
<td align="left">senere_afkraeftet</td>
<td align="left">was_the_diagnosis_refuted_later?</td>
</tr>
<tr class="even">
<td align="left">sygesikringsregisteret</td>
<td align="left">sysi</td>
<td align="left">pnr</td>
<td align="left">pseudonymised_social_security_number</td>
</tr>
<tr class="odd">
<td align="left">sygesikringsregisteret</td>
<td align="left">sysi</td>
<td align="left">barnmak</td>
<td align="left">was_the_service_provided_to_the_patients_child?</td>
</tr>
<tr class="even">
<td align="left">sygesikringsregisteret</td>
<td align="left">sysi</td>
<td align="left">speciale</td>
<td align="left">billing_code_of_the_service</td>
</tr>
<tr class="odd">
<td align="left">sygesikringsregisteret</td>
<td align="left">sysi</td>
<td align="left">honuge</td>
<td align="left">week_and_year_of_service</td>
</tr>
<tr class="even">
<td align="left">sygesikringsregisteret</td>
<td align="left">sssy</td>
<td align="left">pnr</td>
<td align="left">pseudonymised_social_security_number</td>
</tr>
<tr class="odd">
<td align="left">sygesikringsregisteret</td>
<td align="left">sssy</td>
<td align="left">barnmak</td>
<td align="left">was_the_service_provided_to_the_patients_child?</td>
</tr>
<tr class="even">
<td align="left">sygesikringsregisteret</td>
<td align="left">sssy</td>
<td align="left">speciale</td>
<td align="left">billing_code_of_the_service</td>
</tr>
<tr class="odd">
<td align="left">sygesikringsregisteret</td>
<td align="left">sssy</td>
<td align="left">honuge</td>
<td align="left">week_and_year_of_service</td>
</tr>
<tr class="even">
<td align="left">laboratoriedatabasens_forskertabel</td>
<td align="left">lab_forsker</td>
<td align="left">patient_cpr</td>
<td align="left">pseudonymised_social_security_number</td>
</tr>
<tr class="odd">
<td align="left">laboratoriedatabasens_forskertabel</td>
<td align="left">lab_forsker</td>
<td align="left">samplingdate</td>
<td align="left">date_of_sampling</td>
</tr>
<tr class="even">
<td align="left">laboratoriedatabasens_forskertabel</td>
<td align="left">lab_forsker</td>
<td align="left">analysiscode</td>
<td align="left">analysis_npu_code</td>
</tr>
<tr class="odd">
<td align="left">laboratoriedatabasens_forskertabel</td>
<td align="left">lab_forsker</td>
<td align="left">value</td>
<td align="left">numerical_result_of_analysis</td>
</tr>
</tbody>
</table>
</div>
  </main>
</div>



    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by Luke William Johnston, Signe Kirk Brødbæk, Anders Aasted Isaksen.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
