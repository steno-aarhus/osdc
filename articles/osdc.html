<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Getting started • osdc</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><script src="osdc_files/libs/quarto-html/popper.min.js"></script><script src="osdc_files/libs/quarto-html/tippy.umd.min.js"></script><link href="osdc_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="osdc_files/libs/quarto-html/light-border.css" rel="stylesheet">
<!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Getting started">
<meta property="og:image" content="https://steno-aarhus.github.io/osdc/logo.png">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">osdc</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.9.19</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="active nav-item"><a class="nav-link" href="../articles/osdc.html">Get started</a></li>
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="../articles/rationale.html">Rationale</a></li>
    <li><a class="dropdown-item" href="../articles/design.html">Design</a></li>
    <li><a class="dropdown-item" href="../articles/algorithm.html">Algorithm</a></li>
    <li><a class="dropdown-item" href="../articles/changes.html">Changes from original</a></li>
    <li><a class="dropdown-item" href="../articles/data-sources.html">Data sources</a></li>
    <li><a class="dropdown-item" href="../articles/function-flow.html">Function flow</a></li>
  </ul>
</li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/steno-aarhus/osdc/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-quarto">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Getting started</h1>




      <small class="dont-index">Source: <a href="https://github.com/steno-aarhus/osdc/blob/main/vignettes/osdc.qmd" class="external-link"><code>vignettes/osdc.qmd</code></a></small>
      <div class="d-none name"><code></code></div>
    </div>






    <section class="level2"><h2 id="what-does-this-package-do">What does this package do?<a class="anchor" aria-label="anchor" href="#what-does-this-package-do"></a>
</h2>
<p>The osdc (Open Source Diabetes Classifier) package classifies individuals as having type 1 diabetes (T1D) or type 2 diabetes (T2D) based on Danish register data. You provide the register data, and the package returns a data table of individuals identified as having diabetes, along with their diabetes type (T1D or T2D) and the date of the classification.</p>
<p>This package serves two overarching purposes:</p>
<ol type="1">
<li>To provide an open-source, code-based algorithm to classify type 1 and type 2 diabetes using Danish registers as data sources.</li>
<li>To inspire discussions within the Danish register-based research space on the openness and ease of use on the existing tooling and registers, and on the need for an official process for updating or contributing to existing data sources.</li>
</ol>
<p>For a detailed description of the algorithm, see <code><a href="../articles/algorithm.html">vignette("algorithm")</a></code>. For the motivations and rationale behind this package, see <code><a href="../articles/rationale.html">vignette("rationale")</a></code>. For a full list of required register variables, see <code><a href="../articles/data-sources.html">vignette("data-sources")</a></code>.</p>
</section><section class="level2"><h2 id="step-by-step-usage">Step-by-step usage<a class="anchor" aria-label="anchor" href="#step-by-step-usage"></a>
</h2>
<p>This section walks through the full workflow: loading the package, preparing data, running the classification, as well as understanding and saving the output. We use simulated data here, but the same or similar steps apply to real register data. For more information on using osdc on real register data, see <a href="#sec-working-with-real-register-data" class="quarto-xref">Section 3</a>.</p>
<section class="level3"><h3 id="step-1-install-and-load-the-package">Step 1: Install and load the package<a class="anchor" aria-label="anchor" href="#step-1-install-and-load-the-package"></a>
</h3>
<p>First, you need to install and load the package:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># install.packages("osdc")</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/steno-aarhus/osdc" class="external-link">osdc</a></span><span class="op">)</span></span></code></pre></div>
</div>
</section><section class="level3"><h3 id="step-2-check-which-registers-are-needed">Step 2: Check which registers are needed<a class="anchor" aria-label="anchor" href="#step-2-check-which-registers-are-needed"></a>
</h3>
<p>The algorithm requires data from multiple Danish registers. The names of these registers can be seen below:</p>
<div class="cell">
<div class="cell-output-display">
<table class="table caption-top">
<colgroup>
<col style="width: 29%">
<col style="width: 70%">
</colgroup>
<thead><tr class="header">
<th style="text-align: left;">Register abbreviation</th>
<th style="text-align: left;">Register name</th>
</tr></thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">bef</td>
<td style="text-align: left;">CPR-registerets befolkningstabel</td>
</tr>
<tr class="even">
<td style="text-align: left;">lmdb</td>
<td style="text-align: left;">Laegemiddelstatistikregisteret</td>
</tr>
<tr class="odd">
<td style="text-align: left;">lpr_adm</td>
<td style="text-align: left;">Landspatientregisterets administrationstabel (LPR2)</td>
</tr>
<tr class="even">
<td style="text-align: left;">lpr_diag</td>
<td style="text-align: left;">Landspatientregisterets diagnosetabel (LPR2)</td>
</tr>
<tr class="odd">
<td style="text-align: left;">kontakter</td>
<td style="text-align: left;">Landspatientregisterets kontakttabel (LPR3)</td>
</tr>
<tr class="even">
<td style="text-align: left;">diagnoser</td>
<td style="text-align: left;">Landspatientregisterets diagnosetabel (LPR3)</td>
</tr>
<tr class="odd">
<td style="text-align: left;">sysi</td>
<td style="text-align: left;">Sygesikringsregisteret</td>
</tr>
<tr class="even">
<td style="text-align: left;">sssy</td>
<td style="text-align: left;">Sygesikringsregisteret</td>
</tr>
<tr class="odd">
<td style="text-align: left;">lab_forsker</td>
<td style="text-align: left;">Laboratoriedatabasens forskertabel</td>
</tr>
</tbody>
</table>
</div>
</div>
<p>For a table showing the specific variables needed from each register, see <code><a href="../articles/data-sources.html">vignette("data-sources")</a></code>.</p>
<div>
<blockquote>
<p><strong>Important</strong></p>
<p>To use the osdc algorithm, you need to have all the variables described in <code><a href="../articles/data-sources.html">vignette("data-sources")</a></code>, so please ensure that you have the required variables before continuing.</p>
</blockquote>
</div>
</section><section class="level3"><h3 id="step-3-prepare-the-data">Step 3: Prepare the data<a class="anchor" aria-label="anchor" href="#step-3-prepare-the-data"></a>
</h3>
<p>The package requires data to be in <a href="https://duckdb.org/" class="external-link">DuckDB</a> format, which is a high-performance database format that can handle the large volumes of data without loading everything into memory at once. See <code><a href="../articles/design.html">vignette("design")</a></code> for more on why we use DuckDB.</p>
<p>For this example, we generate simulated register data using <code><a href="../reference/simulate_registers.html">simulate_registers()</a></code> and then convert it to DuckDB format:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">register_data</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/registers.html">registers</a></span><span class="op">(</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/names.html" class="external-link">names</a></span><span class="op">(</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="../reference/simulate_registers.html">simulate_registers</a></span><span class="op">(</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu">purrr</span><span class="fu">::</span><span class="fu"><a href="https://purrr.tidyverse.org/reference/map.html" class="external-link">map</a></span><span class="op">(</span><span class="fu">duckplyr</span><span class="fu">::</span><span class="va"><a href="https://rdrr.io/pkg/duckplyr/man/duckdb_tibble.html" class="external-link">as_duckdb_tibble</a></span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="co"># Convert to a DuckDB connection, as duckplyr is still</span></span>
<span>  <span class="co"># in early development, while the DBI-DuckDB connection</span></span>
<span>  <span class="co"># is more stable.</span></span>
<span>  <span class="fu">purrr</span><span class="fu">::</span><span class="fu"><a href="https://purrr.tidyverse.org/reference/map.html" class="external-link">map</a></span><span class="op">(</span><span class="fu">duckplyr</span><span class="fu">::</span><span class="va"><a href="https://rdrr.io/pkg/duckplyr/man/as_tbl.html" class="external-link">as_tbl</a></span><span class="op">)</span></span></code></pre></div>
</div>
<p>The result is a named list where each element is one register as a DuckDB table. The <code><a href="../reference/classify_diabetes.html">classify_diabetes()</a></code> function takes each register as a separate argument, so we extract them into individual variables to be explicit about this:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">bef</span> <span class="op">&lt;-</span> <span class="va">register_data</span><span class="op">$</span><span class="va">bef</span></span>
<span><span class="va">diagnoser</span> <span class="op">&lt;-</span> <span class="va">register_data</span><span class="op">$</span><span class="va">diagnoser</span></span>
<span><span class="va">lmdb</span> <span class="op">&lt;-</span> <span class="va">register_data</span><span class="op">$</span><span class="va">lmdb</span></span>
<span><span class="va">lpr_adm</span> <span class="op">&lt;-</span> <span class="va">register_data</span><span class="op">$</span><span class="va">lpr_adm</span></span>
<span><span class="va">lpr_diag</span> <span class="op">&lt;-</span> <span class="va">register_data</span><span class="op">$</span><span class="va">lpr_diag</span></span>
<span><span class="va">kontakter</span> <span class="op">&lt;-</span> <span class="va">register_data</span><span class="op">$</span><span class="va">kontakter</span></span>
<span><span class="va">sysi</span> <span class="op">&lt;-</span> <span class="va">register_data</span><span class="op">$</span><span class="va">sysi</span></span>
<span><span class="va">sssy</span> <span class="op">&lt;-</span> <span class="va">register_data</span><span class="op">$</span><span class="va">sssy</span></span>
<span><span class="va">lab_forsker</span> <span class="op">&lt;-</span> <span class="va">register_data</span><span class="op">$</span><span class="va">lab_forsker</span></span></code></pre></div>
</div>
</section><section class="level3"><h3 id="step-4-run-the-classification">Step 4: Run the classification<a class="anchor" aria-label="anchor" href="#step-4-run-the-classification"></a>
</h3>
<p>Now, we’re ready to run the classification algorithm. Pass each register to <code><a href="../reference/classify_diabetes.html">classify_diabetes()</a></code>:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">classified_diabetes</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/classify_diabetes.html">classify_diabetes</a></span><span class="op">(</span></span>
<span>  kontakter <span class="op">=</span> <span class="va">kontakter</span>,</span>
<span>  diagnoser <span class="op">=</span> <span class="va">diagnoser</span>,</span>
<span>  lpr_diag <span class="op">=</span> <span class="va">lpr_diag</span>,</span>
<span>  lpr_adm <span class="op">=</span> <span class="va">lpr_adm</span>,</span>
<span>  sysi <span class="op">=</span> <span class="va">sysi</span>,</span>
<span>  sssy <span class="op">=</span> <span class="va">sssy</span>,</span>
<span>  lab_forsker <span class="op">=</span> <span class="va">lab_forsker</span>,</span>
<span>  bef <span class="op">=</span> <span class="va">bef</span>,</span>
<span>  lmdb <span class="op">=</span> <span class="va">lmdb</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="va">classified_diabetes</span></span>
<span><span class="co">#&gt; # Source:   SQL [?? x 5]</span></span>
<span><span class="co">#&gt; # Database: DuckDB 1.4.4 [unknown@Linux 6.11.0-1018-azure:R 4.5.2//tmp/RtmpLVHwWQ/duckplyr/duckplyr208e129a9a08.duckdb]</span></span>
<span><span class="co">#&gt;   pnr          stable_inclusion_date raw_inclusion_date has_t1d has_t2d</span></span>
<span><span class="co">#&gt;   &lt;chr&gt;        &lt;date&gt;                &lt;date&gt;             &lt;lgl&gt;   &lt;lgl&gt;  </span></span>
<span><span class="co">#&gt; 1 108839343181 2011-12-05            2011-12-05         FALSE   TRUE   </span></span>
<span><span class="co">#&gt; 2 745611946809 2018-10-29            2018-10-29         FALSE   TRUE   </span></span>
<span><span class="co">#&gt; 3 732715981647 2020-08-24            2020-08-24         FALSE   TRUE   </span></span>
<span><span class="co">#&gt; 4 706974528463 2016-08-01            2016-08-01         FALSE   TRUE   </span></span>
<span><span class="co">#&gt; 5 146605139851 2020-12-25            2020-12-25         FALSE   TRUE   </span></span>
<span><span class="co">#&gt; 6 298944792608 2007-11-26            2007-11-26         FALSE   TRUE   </span></span>
<span><span class="co">#&gt; 7 498989088479 2014-11-09            2014-11-09         FALSE   TRUE   </span></span>
<span><span class="co">#&gt; 8 409442575549 2010-05-24            2010-05-24         FALSE   TRUE   </span></span>
<span><span class="co">#&gt; 9 240771768588 2016-11-28            2016-11-28         FALSE   TRUE</span></span></code></pre></div>
</div>
<p>As seen above, this returns a DuckDB table with the individuals classified as having either T1D or T2D along with the date of the classification. Each of the columns in the output is explained in <a href="#sec-understanding-the-output" class="quarto-xref">Section 2.5.1</a> below.</p>
</section><section class="level3"><h3 id="step-5-optional-collect-the-results-into-r">Step 5 (optional): Collect the results into R<a class="anchor" aria-label="anchor" href="#step-5-optional-collect-the-results-into-r"></a>
</h3>
<p>Because the data is stored in DuckDB, the result above is a <em>lazy</em> reference to a database query, i.e., the data has not been loaded into R’s memory. To bring the results into R as a regular data frame, use <code><a href="https://dplyr.tidyverse.org/reference/compute.html" class="external-link">dplyr::collect()</a></code>:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">classified_diabetes</span> <span class="op">&lt;-</span> <span class="va">classified_diabetes</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/compute.html" class="external-link">collect</a></span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="va">classified_diabetes</span></span>
<span><span class="co">#&gt; # A tibble: 9 × 5</span></span>
<span><span class="co">#&gt;   pnr          stable_inclusion_date raw_inclusion_date has_t1d has_t2d</span></span>
<span><span class="co">#&gt;   &lt;chr&gt;        &lt;date&gt;                &lt;date&gt;             &lt;lgl&gt;   &lt;lgl&gt;  </span></span>
<span><span class="co">#&gt; 1 732715981647 2020-08-24            2020-08-24         FALSE   TRUE   </span></span>
<span><span class="co">#&gt; 2 706974528463 2016-08-01            2016-08-01         FALSE   TRUE   </span></span>
<span><span class="co">#&gt; 3 240771768588 2016-11-28            2016-11-28         FALSE   TRUE   </span></span>
<span><span class="co">#&gt; 4 745611946809 2018-10-29            2018-10-29         FALSE   TRUE   </span></span>
<span><span class="co">#&gt; 5 108839343181 2011-12-05            2011-12-05         FALSE   TRUE   </span></span>
<span><span class="co">#&gt; 6 298944792608 2007-11-26            2007-11-26         FALSE   TRUE   </span></span>
<span><span class="co">#&gt; 7 498989088479 2014-11-09            2014-11-09         FALSE   TRUE   </span></span>
<span><span class="co">#&gt; 8 409442575549 2010-05-24            2010-05-24         FALSE   TRUE   </span></span>
<span><span class="co">#&gt; 9 146605139851 2020-12-25            2020-12-25         FALSE   TRUE</span></span></code></pre></div>
</div>
<p>Now, we can see that with the simulated data, 9 individuals are classified as having diabetes.</p>
<section class="level4"><h4 id="sec-understanding-the-output">Understanding the output<a class="anchor" aria-label="anchor" href="#sec-understanding-the-output"></a>
</h4>
<p>The output is a table with one row per classified individual and five columns:</p>
<table class="table caption-top">
<colgroup>
<col style="width: 50%">
<col style="width: 50%">
</colgroup>
<thead><tr class="header">
<th>Column</th>
<th>Description</th>
</tr></thead>
<tbody>
<tr class="odd">
<td><code>pnr</code></td>
<td>The pseudonymised personal identification number.</td>
</tr>
<tr class="even">
<td><code>stable_inclusion_date</code></td>
<td>The inclusion date, which is the date of the second inclusion event, but only if it falls within a period of reliable data coverage set by the <code>stable_inclusion_start_date</code> parameter (from 1998 onward by default). <code>NA</code> for earlier dates.</td>
</tr>
<tr class="odd">
<td><code>raw_inclusion_date</code></td>
<td>The date of the second inclusion event without setting <code>NA</code> for date earlier than the <code>stable_inclusion_start_date</code>.</td>
</tr>
<tr class="even">
<td><code>has_t1d</code></td>
<td>
<code>TRUE</code> if classified as type 1 diabetes, <code>FALSE</code> otherwise.</td>
</tr>
<tr class="odd">
<td><code>has_t2d</code></td>
<td>
<code>TRUE</code> if classified as type 2 diabetes, <code>FALSE</code> otherwise.</td>
</tr>
</tbody>
</table>
<div>
<blockquote>
<p><strong>About <code>stable_inclusion_date</code> vs <code>raw_inclusion_date</code></strong></p>
<p>The <code>raw_inclusion_date</code> is simply the date of the second qualifying event. However, for events before 1998, the register data may not have sufficient coverage to reliably distinguish new (incident) cases from existing (prevalent) ones. The <code>stable_inclusion_date</code> column is set to <code>NA</code> for these earlier dates to flag this uncertainty.</p>
<p>The <code><a href="../reference/classify_diabetes.html">classify_diabetes()</a></code> function includes a <code>stable_inclusion_start_date</code> parameter that is <code>01-01-1988</code> by default. This means that you can change the date for when the classification is considered stable</p>
</blockquote>
</div>
<p>For more information about the output, see the Interface section under <code><a href="../articles/design.html">vignette("design")</a></code>.</p>
</section></section><section class="level3"><h3 id="step-6-saving-the-results">Step 6: Saving the results<a class="anchor" aria-label="anchor" href="#step-6-saving-the-results"></a>
</h3>
<p>Once you have the classification results, you can save them as a Parquet file for yourself or your collaborators on your DST project:</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">classified_diabetes</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu">duckplyr</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/duckplyr/man/duckdb_tibble.html" class="external-link">as_duckdb_tibble</a></span><span class="op">(</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu">duckplyr</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/duckplyr/man/compute_parquet.html" class="external-link">compute_parquet</a></span><span class="op">(</span></span>
<span>    <span class="st">"classified_diabetes.parquet"</span></span>
<span>  <span class="op">)</span></span></code></pre></div>
</section></section><section class="level2"><h2 id="sec-working-with-real-register-data">Working with real register data<a class="anchor" aria-label="anchor" href="#sec-working-with-real-register-data"></a>
</h2>
<p>In a real scenario, the register data is too large to read into memory all at once. We recommend converting your register files into <a href="https://parquet.apache.org/" class="external-link">Parquet</a> format on disk, with each register in its own folder (e.g., all <code>kontakter</code> files in one folder, all <code>diagnoser</code> files in another, etc.).</p>
<p>You can then load each register directly from its Parquet folder as a DuckDB table, without reading everything into memory:</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">diagnoser</span> <span class="op">&lt;-</span> <span class="st">"path/to/diagnoser_parquet_folder"</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu">arrow</span><span class="fu">::</span><span class="fu"><a href="https://arrow.apache.org/docs/r/reference/open_dataset.html" class="external-link">open_dataset</a></span><span class="op">(</span>unify_schemas <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu">arrow</span><span class="fu">::</span><span class="fu"><a href="https://arrow.apache.org/docs/r/reference/to_duckdb.html" class="external-link">to_duckdb</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<div>
<blockquote>
<p><strong>Tip</strong></p>
<p>If your register data is in SAS format (<code>.sas7bdat</code>), you can use the <a href="https://dp-next.github.io/fastreg/" class="external-link">fastreg</a> package (once its been submitted to CRAN, expected March 2026) to convert them to Parquet format.</p>
</blockquote>
</div>
<p>If your data is already in R (e.g., as a data frame) and fits in memory, you can convert it to a DuckDB table with:</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">diagnoser</span> <span class="op">&lt;-</span> <span class="va">diagnoser</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu">arrow</span><span class="fu">::</span><span class="fu"><a href="https://arrow.apache.org/docs/r/reference/to_duckdb.html" class="external-link">to_duckdb</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
</section><section class="level2"><h2 id="getting-help">Getting help<a class="anchor" aria-label="anchor" href="#getting-help"></a>
</h2>
<p>If you encounter a bug or have a question about how to use osdc, please open an issue on the <a href="https://github.com/steno-aarhus/osdc/issues" class="external-link">GitHub repository</a>. When reporting a bug, include a minimal example that reproduces the problem along to help us understand and investigate the problem.</p>
</section><script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp('/' + window.location.host + '/');
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'light-border',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config);
    }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script></main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Signe Kirk Brødbæk, Anders Aasted Isaksen, Luke William Johnston.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.2.0.</p>
</div>

    </footer>
</div>





  </body>
</html>
