<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Getting started • osdc</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><script src="osdc_files/libs/quarto-html/popper.min.js"></script><script src="osdc_files/libs/quarto-html/tippy.umd.min.js"></script><link href="osdc_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="osdc_files/libs/quarto-html/light-border.css" rel="stylesheet">
<!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Getting started">
<meta property="og:image" content="https://steno-aarhus.github.io/osdc/logo.png">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">osdc</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.9.17</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="active nav-item"><a class="nav-link" href="../articles/osdc.html">Get started</a></li>
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="../articles/rationale.html">Rationale</a></li>
    <li><a class="dropdown-item" href="../articles/design.html">Design</a></li>
    <li><a class="dropdown-item" href="../articles/algorithm.html">Algorithm</a></li>
    <li><a class="dropdown-item" href="../articles/changes.html">Changes from original</a></li>
    <li><a class="dropdown-item" href="../articles/data-sources.html">Data sources</a></li>
    <li><a class="dropdown-item" href="../articles/function-flow.html">Function flow</a></li>
  </ul>
</li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/steno-aarhus/osdc/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-quarto">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Getting started</h1>




      <small class="dont-index">Source: <a href="https://github.com/steno-aarhus/osdc/blob/main/vignettes/osdc.qmd" class="external-link"><code>vignettes/osdc.qmd</code></a></small>
      <div class="d-none name"><code></code></div>
    </div>






    <p>This package serves two overarching purposes:</p>
<ol type="1">
<li>To provide an open-source, code-based algorithm to classify type 1 and type 2 diabetes using Danish registers as data sources.</li>
<li>To inspire discussions within the Danish register-based research space on the openness and ease of use on the existing tooling and registers, and on the need for an official process for updating or contributing to existing data sources.</li>
</ol>
<p>To read up on the overall design of this package as well as on the algorithm, check out the <code><a href="../articles/design.html">vignette("design")</a></code>. For more explanation on the motivations, rationale, and needs for this algorithm and package, check out the <code><a href="../articles/rationale.html">vignette("rationale")</a></code>. To see the specific data needed for this package and algorithm, see <code><a href="../articles/data-sources.html">vignette("data-sources")</a></code>.</p>
<section class="level2"><h2 id="usage">Usage<a class="anchor" aria-label="anchor" href="#usage"></a>
</h2>
<p>First, let’s load the package, as well as <a href="https://duckplyr.tidyverse.org/index.html" class="external-link">duckplyr</a> since we require the data to be in the <a href="https://duckdb.org/" class="external-link">DuckDB</a> format. See the <code><a href="../articles/design.html">vignette("design")</a></code> for some reasons why.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/steno-aarhus/osdc" class="external-link">osdc</a></span><span class="op">)</span></span></code></pre></div>
</div>
<p>The core of this package depends on the list of variables within different registers that are needed in order to classify the diabetes status of an individual. This can be found in the list:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Only showing first 2</span></span>
<span><span class="fu"><a href="../reference/registers.html">registers</a></span><span class="op">(</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="fl">2</span><span class="op">)</span></span>
<span><span class="co">#&gt; $bef</span></span>
<span><span class="co">#&gt; $bef$name</span></span>
<span><span class="co">#&gt; [1] "CPR-registerets befolkningstabel"</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $bef$start_year</span></span>
<span><span class="co">#&gt; [1] 1968</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $bef$end_year</span></span>
<span><span class="co">#&gt; [1] NA</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $bef$variables</span></span>
<span><span class="co">#&gt; # A tibble: 3 × 4</span></span>
<span><span class="co">#&gt;   name      danish_description         english_description             data_type</span></span>
<span><span class="co">#&gt;   &lt;chr&gt;     &lt;chr&gt;                      &lt;chr&gt;                           &lt;list&gt;   </span></span>
<span><span class="co">#&gt; 1 pnr       Pseudonymiseret cpr-nummer Pseudonymised social security … &lt;chr [1]&gt;</span></span>
<span><span class="co">#&gt; 2 koen      Koen                       Gender/sex                      &lt;chr [1]&gt;</span></span>
<span><span class="co">#&gt; 3 foed_dato Foedselsdato               Date of birth                   &lt;chr [2]&gt;</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $lmdb</span></span>
<span><span class="co">#&gt; $lmdb$name</span></span>
<span><span class="co">#&gt; [1] "Laegemiddelstatistikregisteret"</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $lmdb$start_year</span></span>
<span><span class="co">#&gt; [1] 1995</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $lmdb$end_year</span></span>
<span><span class="co">#&gt; [1] NA</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $lmdb$variables</span></span>
<span><span class="co">#&gt; # A tibble: 6 × 4</span></span>
<span><span class="co">#&gt;   name   danish_description                 english_description        data_type</span></span>
<span><span class="co">#&gt;   &lt;chr&gt;  &lt;chr&gt;                              &lt;chr&gt;                      &lt;list&gt;   </span></span>
<span><span class="co">#&gt; 1 pnr    Pseudonymiseret cpr-nummer         Pseudonymised social secu… &lt;chr [1]&gt;</span></span>
<span><span class="co">#&gt; 2 eksd   Ekspeditionsdato                   Date of purchase           &lt;chr [2]&gt;</span></span>
<span><span class="co">#&gt; 3 atc    ATC-kode (fuldt specificeret)      ATC code (fully specified) &lt;chr [1]&gt;</span></span>
<span><span class="co">#&gt; 4 volume Antal standarddoser (DDD) i pakken Number of daily standard … &lt;chr [1]&gt;</span></span>
<span><span class="co">#&gt; 5 apk    Antal pakker koebt                 Number of packages purcha… &lt;chr [1]&gt;</span></span>
<span><span class="co">#&gt; 6 indo   Indikationskode for recept         Indication code            &lt;chr [1]&gt;</span></span></code></pre></div>
</div>
<p>We can see the list of registers we need with:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/registers.html">registers</a></span><span class="op">(</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/names.html" class="external-link">names</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "bef"         "lmdb"        "lpr_adm"     "lpr_diag"    "kontakter"  </span></span>
<span><span class="co">#&gt; [6] "diagnoser"   "sysi"        "sssy"        "lab_forsker"</span></span></code></pre></div>
</div>
<p>Let’s create a fake dataset to show how to use the classification. We have a helper function <code><a href="../reference/simulate_registers.html">simulate_registers()</a></code> that takes a vector of register names and outputs a list of registers with simulated data. Because of the way that DuckDB connections work, we have to either load the data directly from a file as a DuckDB table, or convert a tibble into a DuckDB table. So we’ll do that right after simulating the data.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">register_data</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/registers.html">registers</a></span><span class="op">(</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/names.html" class="external-link">names</a></span><span class="op">(</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="../reference/simulate_registers.html">simulate_registers</a></span><span class="op">(</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu">purrr</span><span class="fu">::</span><span class="fu"><a href="https://purrr.tidyverse.org/reference/map.html" class="external-link">map</a></span><span class="op">(</span><span class="fu">duckplyr</span><span class="fu">::</span><span class="va"><a href="https://duckplyr.tidyverse.org/reference/duckdb_tibble.html" class="external-link">as_duckdb_tibble</a></span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="co"># Convert to a DuckDB connection, as duckplyr is still</span></span>
<span>  <span class="co"># in early development, while the DBI-DuckDB connection</span></span>
<span>  <span class="co"># is more stable.</span></span>
<span>  <span class="fu">purrr</span><span class="fu">::</span><span class="fu"><a href="https://purrr.tidyverse.org/reference/map.html" class="external-link">map</a></span><span class="op">(</span><span class="fu">duckplyr</span><span class="fu">::</span><span class="va"><a href="https://duckplyr.tidyverse.org/reference/as_tbl.html" class="external-link">as_tbl</a></span><span class="op">)</span> </span>
<span></span>
<span><span class="co"># Show only the first two items.</span></span>
<span><span class="va">register_data</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="fl">2</span><span class="op">)</span></span>
<span><span class="co">#&gt; $bef</span></span>
<span><span class="co">#&gt; # Source:   table&lt;as_tbl_duckplyr_Ms0qNyXTJO&gt; [?? x 3]</span></span>
<span><span class="co">#&gt; # Database: DuckDB 1.4.3 [unknown@Linux 6.11.0-1018-azure:R 4.5.2//tmp/RtmpDMLZlf/duckplyr/duckplyr1dea38f7db24.duckdb]</span></span>
<span><span class="co">#&gt;     koen pnr          foed_dato</span></span>
<span><span class="co">#&gt;    &lt;int&gt; &lt;chr&gt;        &lt;chr&gt;    </span></span>
<span><span class="co">#&gt;  1     1 108684730664 19320112 </span></span>
<span><span class="co">#&gt;  2     2 982144017357 20070716 </span></span>
<span><span class="co">#&gt;  3     2 672580814975 19800805 </span></span>
<span><span class="co">#&gt;  4     1 439008110445 20090628 </span></span>
<span><span class="co">#&gt;  5     2 489714666740 20170225 </span></span>
<span><span class="co">#&gt;  6     2 155331797020 19730330 </span></span>
<span><span class="co">#&gt;  7     1 777951655096 19341022 </span></span>
<span><span class="co">#&gt;  8     1 167007504860 20010318 </span></span>
<span><span class="co">#&gt;  9     2 132473802596 19530901 </span></span>
<span><span class="co">#&gt; 10     1 876820784981 19310817 </span></span>
<span><span class="co">#&gt; # ℹ more rows</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $diagnoser</span></span>
<span><span class="co">#&gt; # Source:   table&lt;as_tbl_duckplyr_VDkIxarsMS&gt; [?? x 4]</span></span>
<span><span class="co">#&gt; # Database: DuckDB 1.4.3 [unknown@Linux 6.11.0-1018-azure:R 4.5.2//tmp/RtmpDMLZlf/duckplyr/duckplyr1dea38f7db24.duckdb]</span></span>
<span><span class="co">#&gt;    dw_ek_kontakt      diagnosekode diagnosetype senere_afkraeftet</span></span>
<span><span class="co">#&gt;    &lt;chr&gt;              &lt;chr&gt;        &lt;chr&gt;        &lt;chr&gt;            </span></span>
<span><span class="co">#&gt;  1 920166254345774467 DX7621       B            Nej              </span></span>
<span><span class="co">#&gt;  2 075972782062569784 DZ832        B            Ja               </span></span>
<span><span class="co">#&gt;  3 176536283003603061 DQ796        A            Nej              </span></span>
<span><span class="co">#&gt;  4 581624294965046227 DN764E       A            Nej              </span></span>
<span><span class="co">#&gt;  5 814210282344580857 DB260        B            Nej              </span></span>
<span><span class="co">#&gt;  6 393885735973313484 DM13         B            Nej              </span></span>
<span><span class="co">#&gt;  7 836179506546686729 DZ52         B            Ja               </span></span>
<span><span class="co">#&gt;  8 814175436846538799 DQ666D       B            Nej              </span></span>
<span><span class="co">#&gt;  9 508133593881487375 DK660C       A            Nej              </span></span>
<span><span class="co">#&gt; 10 325077063891132755 DT559B       B            Nej              </span></span>
<span><span class="co">#&gt; # ℹ more rows</span></span></code></pre></div>
</div>
<p>Now we can run the <code><a href="../reference/classify_diabetes.html">classify_diabetes()</a></code> on the simulated data. Because we use DuckDB, in order to “materialize” the data into R, you need to use <code><a href="https://dplyr.tidyverse.org/reference/compute.html" class="external-link">dplyr::collect()</a></code>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">classified_diabetes</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/classify_diabetes.html">classify_diabetes</a></span><span class="op">(</span></span>
<span>  kontakter <span class="op">=</span> <span class="va">register_data</span><span class="op">$</span><span class="va">kontakter</span>,</span>
<span>  diagnoser <span class="op">=</span> <span class="va">register_data</span><span class="op">$</span><span class="va">diagnoser</span>,</span>
<span>  lpr_diag <span class="op">=</span> <span class="va">register_data</span><span class="op">$</span><span class="va">lpr_diag</span>,</span>
<span>  lpr_adm <span class="op">=</span> <span class="va">register_data</span><span class="op">$</span><span class="va">lpr_adm</span>,</span>
<span>  sysi <span class="op">=</span> <span class="va">register_data</span><span class="op">$</span><span class="va">sysi</span>,</span>
<span>  sssy <span class="op">=</span> <span class="va">register_data</span><span class="op">$</span><span class="va">sssy</span>,</span>
<span>  lab_forsker <span class="op">=</span> <span class="va">register_data</span><span class="op">$</span><span class="va">lab_forsker</span>,</span>
<span>  bef <span class="op">=</span> <span class="va">register_data</span><span class="op">$</span><span class="va">bef</span>,</span>
<span>  lmdb <span class="op">=</span> <span class="va">register_data</span><span class="op">$</span><span class="va">lmdb</span></span>
<span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/compute.html" class="external-link">collect</a></span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="va">classified_diabetes</span></span>
<span><span class="co">#&gt; # A tibble: 8 × 5</span></span>
<span><span class="co">#&gt;   pnr          stable_inclusion_date raw_inclusion_date has_t1d has_t2d</span></span>
<span><span class="co">#&gt;   &lt;chr&gt;        &lt;date&gt;                &lt;date&gt;             &lt;lgl&gt;   &lt;lgl&gt;  </span></span>
<span><span class="co">#&gt; 1 732715981647 2020-08-24            2020-08-24         FALSE   TRUE   </span></span>
<span><span class="co">#&gt; 2 968533061868 2015-10-17            2015-10-17         FALSE   TRUE   </span></span>
<span><span class="co">#&gt; 3 409442575549 2014-06-02            2014-06-02         FALSE   TRUE   </span></span>
<span><span class="co">#&gt; 4 644250034935 2016-03-25            2016-03-25         FALSE   TRUE   </span></span>
<span><span class="co">#&gt; 5 706974528463 2023-03-06            2023-03-06         FALSE   TRUE   </span></span>
<span><span class="co">#&gt; 6 298944792608 2008-11-10            2008-11-10         FALSE   TRUE   </span></span>
<span><span class="co">#&gt; 7 498989088479 2017-11-27            2017-11-27         FALSE   TRUE   </span></span>
<span><span class="co">#&gt; 8 240771768588 2024-01-29            2024-01-29         FALSE   TRUE</span></span></code></pre></div>
</div>
<p>Just by pure chance, there are 8 simulated individuals that get classified into diabetes status. This is mainly because we’ve created the simulated data to over-represent the values in the variables included in the algorithm that will lead to classifying into diabetes status.</p>
<p>In a real scenario, the register data is probably too big to read into memory before being converted into a <code>duckdb_tibble</code>. Therefore, we recommend that users first convert the individual register files into <code>.parquet</code> format on disk, with each register source contained in separate folders (e.g. all files from <code>kontakter</code> in one folder, <code>diagnoser</code> in another, <code>lpr_diag</code> in a third folder etc.). With the <code>arrow</code> package, each register data source can then be read in as a single <code>duckdb_tibble</code> by pointing the following code snippet to each of the Parquet folders. E.g. to load in <code>diagnoser</code>:</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">diagnoser</span> <span class="op">&lt;-</span> <span class="va">diagnoser_parquet_folder</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu">arrow</span><span class="fu">::</span><span class="fu"><a href="https://arrow.apache.org/docs/r/reference/open_dataset.html" class="external-link">open_dataset</a></span><span class="op">(</span>unify_schemas <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu">arrow</span><span class="fu">::</span><span class="fu"><a href="https://arrow.apache.org/docs/r/reference/to_duckdb.html" class="external-link">to_duckdb</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<p>And that’s all there is to this package! You can now save this dataset as a Parquet file for you or your collaborators on your DST project to use these classifications.</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">classified_diabetes</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu">duckplyr</span><span class="fu">::</span><span class="fu"><a href="https://duckplyr.tidyverse.org/reference/duckdb_tibble.html" class="external-link">as_duckdb_tibble</a></span><span class="op">(</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu">duckplyr</span><span class="fu">::</span><span class="fu"><a href="https://duckplyr.tidyverse.org/reference/compute_parquet.html" class="external-link">compute_parquet</a></span><span class="op">(</span></span>
<span>    <span class="st">"classified_diabetes.parquet"</span></span>
<span>  <span class="op">)</span></span></code></pre></div>
</section><script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp('/' + window.location.host + '/');
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'light-border',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config);
    }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script></main>
</div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Signe Kirk Brødbæk, Anders Aasted Isaksen, Luke William Johnston.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.2.0.</p>
</div>

    </footer>
</div>





  </body>
</html>
