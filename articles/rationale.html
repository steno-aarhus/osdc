<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Rationale • osdc</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><script src="rationale_files/libs/quarto-html/popper.min.js"></script><script src="rationale_files/libs/quarto-html/tippy.umd.min.js"></script><link href="rationale_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="rationale_files/libs/quarto-html/light-border.css" rel="stylesheet">
<!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Rationale">
<meta property="og:image" content="https://steno-aarhus.github.io/osdc/logo.png">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">osdc</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.7.1</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../articles/osdc.html">Get started</a></li>
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="active nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="../articles/rationale.html">Rationale</a></li>
    <li><a class="dropdown-item" href="../articles/design.html">Design</a></li>
    <li><a class="dropdown-item" href="../articles/algorithm.html">Algorithm</a></li>
    <li><a class="dropdown-item" href="../articles/changes.html">Changes from original</a></li>
    <li><a class="dropdown-item" href="../articles/data-sources.html">Data sources</a></li>
    <li><a class="dropdown-item" href="../articles/function-flow.html">Function flow</a></li>
  </ul>
</li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/steno-aarhus/osdc/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-quarto">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Rationale</h1>




      <small class="dont-index">Source: <a href="https://github.com/steno-aarhus/osdc/blob/main/vignettes/rationale.qmd" class="external-link"><code>vignettes/rationale.qmd</code></a></small>
      <div class="d-none name"><code></code></div>
    </div>






    <p>This document explains the rationale behind the development of this algorithm. Many of these text were taken from Anders Aasted Isaksen’s <a href="https://aastedet.github.io/dissertation/" class="external-link">PhD Thesis</a> as well as the validation paper <span class="citation" data-cites="Isaksen2023">(<a href="#ref-Isaksen2023" role="doc-biblioref">1</a>)</span>. This document is a shorter and more concise version of those documents. We cover the:</p>
<ul>
<li>Current state of how diabetes is identified in Danish healthcare registers.</li>
<li>Challenges faced by researchers in this area, such as the limited transparency in how diabetes is exactly classified in these sources and how applying or using these approaches isn’t very easy.</li>
<li>How this algorithm and package contributes to discussions in this space about how diabetes in classified in Danish register research and how it is implemented.</li>
</ul>
<section class="level2"><h2 id="identifying-type-1-and-2-diabetes-cases-in-danish-healthcare-registers">Identifying type 1 and 2 diabetes cases in Danish healthcare registers<a class="anchor" aria-label="anchor" href="#identifying-type-1-and-2-diabetes-cases-in-danish-healthcare-registers"></a>
</h2>
<section class="level3"><h3 id="danish-register-data-infrastructure">Danish register data infrastructure<a class="anchor" aria-label="anchor" href="#danish-register-data-infrastructure"></a>
</h3>
<p>Many individual-level data (e.g. civil registration, public healthcare contacts, and drug prescriptions) are automatically collected on all residents in Denmark and stored in nationwide Danish registers by <a href="https://www.dst.dk/da/" class="external-link">Statistics Denmark</a> and the <a href="https://sundhedsdatastyrelsen.dk/da" class="external-link">Danish Health Data Authority</a>. These agencies are legally allowed to give access to the register data for research purposes, which provides (authorized) researchers a set of common, extensive data sources to use for studies. Any researcher associated with an approved Danish research institute (mainly Danish universities) can apply for access, but fees and conditions apply.</p>
<p>Register data is generally accessed and processed by approved researchers on remote servers operated by Statistics Denmark and the Danish Health Data Authority. The same raw data used by all researchers, coupled with a common virtual working environment, has the potential to enable reproducible research. This means that any data processing workflow could be transferable and reusable between research projects if the underlying code is designed with reproducibility in mind and the code is shared (“open-sourced”) <span class="citation" data-cites="Marszalek2016">(<a href="#ref-Marszalek2016" role="doc-biblioref">2</a>)</span>. While reproducibility in research relates to transparent reporting of methods to enable others to reproduce analyses and experiments, this also applies to a diabetes classification program, which - if reproducible - could be reused by any researcher with access to the necessary register data to dynamically identify a study population of individuals with diabetes for their research needs <span class="citation" data-cites="Dima2017">(<a href="#ref-Dima2017" role="doc-biblioref">3</a>)</span>.</p>
</section><section class="level3"><h3 id="current-danish-register-based-diabetes-classifiers">Current Danish register-based diabetes classifiers<a class="anchor" aria-label="anchor" href="#current-danish-register-based-diabetes-classifiers"></a>
</h3>
<p>In Denmark, the National Diabetes Register, established in 2006, was the first resource readily available to researchers to use for identifying diabetes cases through register data <span class="citation" data-cites="Carstensen2011">(<a href="#ref-Carstensen2011" role="doc-biblioref">4</a>)</span> . However, it was discontinued in 2012.</p>
<p>The next resource is the <a href="https://www.esundhed.dk/Dokumentation/DocumentationExtended?id=29" class="external-link">Register of Selected Chronic Diseases</a> (RSCD), which was launched in 2014. It is currently the only publicly available resource to identify diabetes cases through Danish register data (by application to the Danish Health Data Authority).</p>
</section></section><section class="level2"><h2 id="challenges-in-current-classifiers">Challenges in current classifiers<a class="anchor" aria-label="anchor" href="#challenges-in-current-classifiers"></a>
</h2>
<p>General-purpose registers and other administrative databases often provide the basis of diabetes epidemiology, but they rarely contain validated diabetes-specific data, which may introduce bias in studies using this data. It is important to have an accurate tool to identify individuals with diabetes in the registers, as findings may differ with various diabetes definitions <span class="citation" data-cites="Nielsen2014 Rawshani2014">(<a href="#ref-Nielsen2014" role="doc-biblioref">5</a>,<a href="#ref-Rawshani2014" role="doc-biblioref">6</a>)</span>. Considerable efforts have been made towards establishing such a tool for diabetes research in several countries, including Denmark <span class="citation" data-cites="Bak2021 HallgrenElfgren2016 Cooper2013">(<a href="#ref-Bak2021" role="doc-biblioref">7</a>–<a href="#ref-Cooper2013" role="doc-biblioref">9</a>)</span>.</p>
<p>In a general population, classification algorithms (classifiers) need to not only identify type 1 diabetes as well as type 2 diabetes, but also account for events that might lead to inclusion of non-cases, such as the use of glucose-lowering drugs in the treatment of other conditions. Currently, no type-specific diabetes classifier has been validated in a general population, which leaves register-based studies in this area vulnerable to biases.</p>
<p>In Denmark, a limitation (or flaw) of the RSCD is that it has not been publicly validated and the source code behind the algorithm has not been made publicly available. Notably, the algorithm lacks inclusion based on elevated HbA1c levels <span class="citation" data-cites="DHDA2016">(<a href="#ref-DHDA2016" role="doc-biblioref">10</a>)</span>. Likewise, the National Diabetes Register, since discontinued in 2012, had a validation study question its validity and called for future registers to adopt inclusion based on elevated HbA1c levels <span class="citation" data-cites="Green2014">(<a href="#ref-Green2014" role="doc-biblioref">11</a>)</span>.</p>
<p>Since the launch of the RSCD, nationwide laboratory data on HbA1c testing has become available in the Danish register ecosystem <span class="citation" data-cites="DHDA2018">(<a href="#ref-DHDA2018" role="doc-biblioref">12</a>)</span>, but this data is yet to be incorporated into available diabetes classifiers.</p>
</section><section class="level2"><h2 id="diabetes-classification-algorithms">Diabetes classification algorithms<a class="anchor" aria-label="anchor" href="#diabetes-classification-algorithms"></a>
</h2>
<p>The currently available register-based diabetes classifiers have yet to incorporate the emerging register data on routine HbA1c testing. Wishing to take advantage of this data, we developed the Open Source Diabetes Classifier (OSDC). Detailed discussion of the advantages and disadvantages of it’s design is found in Anders Aasted Isaksen’s thesis, in the chapter on <a href="https://aastedet.github.io/dissertation/5-discussion-methods.html" class="external-link">discussing the methods</a>.</p>
<p>We aimed on developing this algorithm to:</p>
<ol type="1">
<li>Stimulate discussion within Denmark on the openness and ease of use of existing classifiers or diabetes registers, and on the need for an official process for updating or contributing to existing data sources on diabetes status. This algorithm and package may end up not being used by official institutions, but it can serve as a starting point on how to improve the current state of diabetes classification in Denmark or as an inspiration for how they might be designed.</li>
<li>Provide an open-source, code-based algorithm as an R package to classify type 1 and type 2 diabetes based on data from Danish registers. We implemented it as an R package so that researchers can easily build their own database of individuals with diabetes more quickly than waiting for an official source to be implemented.</li>
</ol></section><section class="level2 unnumbered"><h2 class="unnumbered" id="references">References<a class="anchor" aria-label="anchor" href="#references"></a>
</h2>
<div id="refs" class="references csl-bib-body" role="list">
<div id="ref-Isaksen2023" class="csl-entry" role="listitem">
<div class="csl-left-margin">1. </div>
<div class="csl-right-inline">Isaksen AA, Sandbæk A, Bjerg L. <a href="https://doi.org/10.2147/clep.s407019" class="external-link">Validation of register-based diabetes classifiers in danish data</a>. Clinical Epidemiology. 2023 May;Volume 15:569–81. </div>
</div>
<div id="ref-Marszalek2016" class="csl-entry" role="listitem">
<div class="csl-left-margin">2. </div>
<div class="csl-right-inline">Marszalek RT, Flintoft L. <a href="https://doi.org/10.1186/s13059-016-1040-y" class="external-link">Being open: Our policy on source code</a>. Genome Biology. 2016;17(1):172. </div>
</div>
<div id="ref-Dima2017" class="csl-entry" role="listitem">
<div class="csl-left-margin">3. </div>
<div class="csl-right-inline">Dima AL, Dediu D. <a href="https://doi.org/10.1371/journal.pone.0174426" class="external-link">Computation of adherence to medication and visualization of medication histories in r with AdhereR: Towards transparent and reproducible use of electronic healthcare data</a>. PLoS One. 2017;12(4):e0174426. </div>
</div>
<div id="ref-Carstensen2011" class="csl-entry" role="listitem">
<div class="csl-left-margin">4. </div>
<div class="csl-right-inline">Carstensen B, Kristensen JK, Marcussen MM, Borch-Johnsen K. <a href="https://doi.org/10.1177/1403494811404278" class="external-link">The national diabetes register</a>. Scand J Public Health. 2011;39(7 Suppl):58–61. </div>
</div>
<div id="ref-Nielsen2014" class="csl-entry" role="listitem">
<div class="csl-left-margin">5. </div>
<div class="csl-right-inline">Nielsen AA, Christensen H, Lund ED, Christensen C, Brandslund I, Green A. Diabetes mortality differs between registers due to various disease definitions. Dan Med J. 2014;61(5):A4840. </div>
</div>
<div id="ref-Rawshani2014" class="csl-entry" role="listitem">
<div class="csl-left-margin">6. </div>
<div class="csl-right-inline">Rawshani A, Landin-Olsson M, Svensson AM, Nyström L, Arnqvist HJ, Bolinder J, et al. <a href="https://doi.org/10.1007/s00125-014-3225-9" class="external-link">The incidence of diabetes among 0-34 year olds in sweden: New data and better methods</a>. Diabetologia. 2014;57(7):1375–81. </div>
</div>
<div id="ref-Bak2021" class="csl-entry" role="listitem">
<div class="csl-left-margin">7. </div>
<div class="csl-right-inline">Bak JCG, Serné EH, Kramer MHH, Nieuwdorp M, Verheugt CL. <a href="https://doi.org/10.1007/s00592-020-01576-8" class="external-link">National diabetes registries: Do they make a difference?</a> Acta Diabetologica. 2021;58(3):267–78. </div>
</div>
<div id="ref-HallgrenElfgren2016" class="csl-entry" role="listitem">
<div class="csl-left-margin">8. </div>
<div class="csl-right-inline">Hallgren Elfgren I-M, Grodzinsky E, Törnvall E. The swedish national diabetes register in clinical practice and evaluation in primary health care. Primary Health Care Research &amp;amp; Development [Internet]. 2016;17(6):549–58. Available from: <a href="https://www.cambridge.org/core/article/swedish-national-diabetes-register-in-clinical-practice-and-evaluation-in-primary-health-care/F3A9B74FED1E7B36147FF63382939B9A" class="external-link">https://www.cambridge.org/core/article/swedish-national-diabetes-register-in-clinical-practice-and-evaluation-in-primary-health-care/F3A9B74FED1E7B36147FF63382939B9A</a>
</div>
</div>
<div id="ref-Cooper2013" class="csl-entry" role="listitem">
<div class="csl-left-margin">9. </div>
<div class="csl-right-inline">Cooper JG, Thue G, Claudi T, Løvaas K, Carlsen S, Sandberg S. The norwegian diabetes register for adults – an overview of the first years. Norsk Epidemiologi [Internet]. 2013;23(1). Available from: <a href="https://www.ntnu.no/ojs/index.php/norepid/article/view/1599" class="external-link">https://www.ntnu.no/ojs/index.php/norepid/article/view/1599</a>
</div>
</div>
<div id="ref-DHDA2016" class="csl-entry" role="listitem">
<div class="csl-left-margin">10. </div>
<div class="csl-right-inline">Danish Health Data Authority. <span class="nocase">Algoritmer for udvalgte kroniske sygdomme og svære psykiske lidelser [English: Algorithms for selected chronic diseases and serious mental illnesses]</span> [Internet]. 2016. Available from: <a href="https://www.esundhed.dk/-/media/Files/Publikationer/Emner/Operationer-og-diagnoser/Udvalgte-kroniske-sygdomme-svaere-psykiske-lidelser/Algoritmer-for-Udvalgte-Kroniske-Sygdomme-og-svre-psykiske-lidelser.ashx" class="external-link">https://www.esundhed.dk/-/media/Files/Publikationer/Emner/Operationer-og-diagnoser/Udvalgte-kroniske-sygdomme-svaere-psykiske-lidelser/Algoritmer-for-Udvalgte-Kroniske-Sygdomme-og-svre-psykiske-lidelser.ashx</a>
</div>
</div>
<div id="ref-Green2014" class="csl-entry" role="listitem">
<div class="csl-left-margin">11. </div>
<div class="csl-right-inline">Green A, Sortsø C, Jensen PB, Emneus M. Validation of the danish national diabetes register. Clinical epidemiology [Internet]. 2014;7:5–15. Available from: <a href="https://www.ncbi.nlm.nih.gov/pubmed/25565889%0Ahttps://www.ncbi.nlm.nih.gov/pmc/PMC4274151/" class="external-link">https://www.ncbi.nlm.nih.gov/pubmed/25565889 https://www.ncbi.nlm.nih.gov/pmc/PMC4274151/</a>
</div>
</div>
<div id="ref-DHDA2018" class="csl-entry" role="listitem">
<div class="csl-left-margin">12. </div>
<div class="csl-right-inline">Danish Health Data Authority. <span class="nocase">Dokumentation af Laboratoriedatabasens Forskertabel – Version 1.3 [English: Documentation on Register of Laboratory Results for Research - version 1.3]</span> [Internet]. 2018. Available from: <a href="https://sundhedsdatastyrelsen.dk/-/media/sds/filer/registre-og-services/nationale-sundhedsregistre/doedsaarsager-og-biologisk-materiale/laboratoriedatabasen/dokumentation-af-labdatabasens-forskertabel.pdf" class="external-link">https://sundhedsdatastyrelsen.dk/-/media/sds/filer/registre-og-services/nationale-sundhedsregistre/doedsaarsager-og-biologisk-materiale/laboratoriedatabasen/dokumentation-af-labdatabasens-forskertabel.pdf</a>
</div>
</div>
</div>
</section><script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp('/' + window.location.host + '/');
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'light-border',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config);
    }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script></main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Signe Kirk Brødbæk, Anders Aasted Isaksen, Luke William Johnston.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer>
</div>





  </body>
</html>
