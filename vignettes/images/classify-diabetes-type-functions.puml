@startuml classify-diabetes-type-functions

skinparam defaultTextAlignment center

#darkgrey: Classify_diabetes_type;
!pragma useVerticalIf on
if (**Criteria 1**\nt1d_include_at_least_one_t1d_primary_diagnosis\n AND\nt1d_include_only_purchased_insulins) then (no)
  if (**Criteria 2**\nt1d_include_majority_of_t1d_primary_diagnoses\nAND\nt1d_include_insulin_purchase_within_180_days_of_diagnosis\nAND\nt1d_include_two_thirds_of_purchased_gld_doses_are_insulin) then (no)
    :Type 2;
    detach
  else (\nyes)
  endif
else (\nyes)
endif
:Type 1;
detach

@enduml