---
title: "Internal function flow"
execute: 
  eval: false
vignette: >
  %\VignetteIndexEntry{Internal function flow}
  %\VignetteEngine{quarto::html}
  %\VignetteEncoding{UTF-8}
---

This document describes the flow of functions and objects within the package,
specifically within the main exposed function `classify_diabetes()`.  It shows
the data sources and how they enter or are used in the function as well as how
the different internal functions and logic are connected to each other.  A
high-level overview of the flow is shown in the diagram below.

![Flow of functions, as well as their required input registers, for
classifying diabetes status using the osdc package. Light blue and
orange boxes represent filtering functions (inclusion and exclusion
events, respectively).](function-flow.svg)

The sections below are split into functions for inclusion and exclusion as well as
functions for determining the final diagnosis date and eventual classification
of type 1 and type 2 diabetes.

## Inclusion events

-   `prepare_lpr2()`: See `?prepare_lpr2` for more information.
-   `prepare_lpr3()`: See `?prepare_lpr3` for more information.

### `include_diabetes_diagnoses()`

See `?include_diabetes_diagnoses` for more information.

### `include_podiatrist_services()`

See `?include_podiatrist_services` for more information.

### `include_hba1c()`

See `?include_hba1c` for more information.

### `include_gld_purchases()`

See `?include_gld_purchases` for more information.

## Exclusion events

### `exclude_potential_pcos()`

See `?exclude_potential_pcos` for more information.

### `exclude_pregnancy()`

See `?exclude_pregnancy` for more information.

## Joining inclusions and exclusions

### `join_inclusions()`

See `?join_inclusions` for more information.

### Create inclusion dates

See `?create_inclusion_dates` for more information.