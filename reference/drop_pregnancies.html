<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en-US"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Drop pregnancy events that could be gestational diabetes. — drop_pregnancies • osdc</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Drop pregnancy events that could be gestational diabetes. — drop_pregnancies"><meta name="description" content="This function takes the combined outputs from
keep_pregnancy_dates(), keep_hba1c(), and
drop_pcos() and uses diagnoses from LPR2 or LPR3 to
drop both elevated HbA1c tests and GLD purchases during pregnancy, as
these may be due to gestational diabetes, rather than type 1 or type 2
diabetes. The aim is to identify pregnancies based on diagnosis codes
specific to pregnancy-ending events (e.g. live births or miscarriages),
and then use the dates of these events to remove inclusion events in the
preceding months that may be related to gestational diabetes (e.g.
elevated HbA1c tests or purchases of glucose-lowering drugs during
pregnancy)."><meta property="og:description" content="This function takes the combined outputs from
keep_pregnancy_dates(), keep_hba1c(), and
drop_pcos() and uses diagnoses from LPR2 or LPR3 to
drop both elevated HbA1c tests and GLD purchases during pregnancy, as
these may be due to gestational diabetes, rather than type 1 or type 2
diabetes. The aim is to identify pregnancies based on diagnosis codes
specific to pregnancy-ending events (e.g. live births or miscarriages),
and then use the dates of these events to remove inclusion events in the
preceding months that may be related to gestational diabetes (e.g.
elevated HbA1c tests or purchases of glucose-lowering drugs during
pregnancy)."><meta property="og:image" content="https://steno-aarhus.github.io/osdc/logo.png"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">osdc</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.8.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../articles/osdc.html">Get started</a></li>
<li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/rationale.html">Rationale</a></li>
    <li><a class="dropdown-item" href="../articles/design.html">Design</a></li>
    <li><a class="dropdown-item" href="../articles/algorithm.html">Algorithm</a></li>
    <li><a class="dropdown-item" href="../articles/changes.html">Changes from original</a></li>
    <li><a class="dropdown-item" href="../articles/data-sources.html">Data sources</a></li>
    <li><a class="dropdown-item" href="../articles/function-flow.html">Function flow</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/steno-aarhus/osdc/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Drop pregnancy events that could be gestational diabetes.</h1>
      <small class="dont-index">Source: <a href="https://github.com/steno-aarhus/osdc/blob/main/R/drop.R" class="external-link"><code>R/drop.R</code></a></small>
      <div class="d-none name"><code>drop_pregnancies.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>This function takes the combined outputs from
<code><a href="keep_pregnancy_dates.html">keep_pregnancy_dates()</a></code>, <code><a href="keep_hba1c.html">keep_hba1c()</a></code>, and
<code><a href="drop_pcos.html">drop_pcos()</a></code> and uses diagnoses from LPR2 or LPR3 to
drop both elevated HbA1c tests and GLD purchases during pregnancy, as
these may be due to gestational diabetes, rather than type 1 or type 2
diabetes. The aim is to identify pregnancies based on diagnosis codes
specific to pregnancy-ending events (e.g. live births or miscarriages),
and then use the dates of these events to remove inclusion events in the
preceding months that may be related to gestational diabetes (e.g.
elevated HbA1c tests or purchases of glucose-lowering drugs during
pregnancy).</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">drop_pregnancies</span><span class="op">(</span><span class="va">dropped_pcos</span>, <span class="va">pregnancy_dates</span>, <span class="va">included_hba1c</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-dropped-pcos">dropped_pcos<a class="anchor" aria-label="anchor" href="#arg-dropped-pcos"></a></dt>
<dd><p>Output from <code><a href="drop_pcos.html">drop_pcos()</a></code>.</p></dd>


<dt id="arg-pregnancy-dates">pregnancy_dates<a class="anchor" aria-label="anchor" href="#arg-pregnancy-dates"></a></dt>
<dd><p>Output from <code><a href="keep_pregnancy_dates.html">keep_pregnancy_dates()</a></code>.</p></dd>


<dt id="arg-included-hba-c">included_hba1c<a class="anchor" aria-label="anchor" href="#arg-included-hba-c"></a></dt>
<dd><p>Output from <code><a href="keep_hba1c.html">keep_hba1c()</a></code>.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>The same type as the input data, default as a <code><a href="https://tibble.tidyverse.org/reference/tibble.html" class="external-link">tibble::tibble()</a></code>.
Has the same output data as the input <code><a href="drop_pcos.html">drop_pcos()</a></code>, except
for a helper logical variable <code>no_pregnancy</code> that is used in later
functions.</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>After these drop functions have been applied, the output serves as
inputs to:</p><ol><li><p>The censored HbA1c and GLD data are passed to the
<code><a href="join_inclusions.html">join_inclusions()</a></code> function for the final step of the inclusion
process.</p></li>
</ol></div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p>See the <code><a href="../articles/algorithm.html">vignette("algorithm")</a></code> for the logic used to filter these
patients.</p></div>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span> <span class="co"># \dontrun{</span></span></span>
<span class="r-in"><span><span class="va">register_data</span> <span class="op">&lt;-</span> <span class="fu"><a href="simulate_registers.html">simulate_registers</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>    <span class="st">"lpr_adm"</span>,</span></span>
<span class="r-in"><span>    <span class="st">"lpr_diag"</span>,</span></span>
<span class="r-in"><span>    <span class="st">"kontakter"</span>,</span></span>
<span class="r-in"><span>    <span class="st">"diagnoser"</span>,</span></span>
<span class="r-in"><span>    <span class="st">"lmdb"</span>,</span></span>
<span class="r-in"><span>    <span class="st">"bef"</span>,</span></span>
<span class="r-in"><span>    <span class="st">"lab_forsker"</span></span></span>
<span class="r-in"><span>  <span class="op">)</span>,</span></span>
<span class="r-in"><span>  n <span class="op">=</span> <span class="fl">1000</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">lpr2</span> <span class="op">&lt;-</span> <span class="fu"><a href="prepare_lpr2.html">prepare_lpr2</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>  lpr_adm <span class="op">=</span> <span class="va">register_data</span><span class="op">$</span><span class="va">lpr_adm</span>,</span></span>
<span class="r-in"><span>  lpr_diag <span class="op">=</span> <span class="va">register_data</span><span class="op">$</span><span class="va">lpr_diag</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">lpr3</span> <span class="op">&lt;-</span> <span class="fu"><a href="prepare_lpr3.html">prepare_lpr3</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>  kontakter <span class="op">=</span> <span class="va">register_data</span><span class="op">$</span><span class="va">kontakter</span>,</span></span>
<span class="r-in"><span>  diagnoser <span class="op">=</span> <span class="va">register_data</span><span class="op">$</span><span class="va">diagnoser</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Drop pregnancy dates</span></span></span>
<span class="r-in"><span><span class="va">register_data</span><span class="op">$</span><span class="va">lmdb</span> <span class="op">|&gt;</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="keep_gld_purchases.html">keep_gld_purchases</a></span><span class="op">(</span><span class="op">)</span> <span class="op">|&gt;</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="add_insulin_purchases_cols.html">add_insulin_purchases_cols</a></span><span class="op">(</span><span class="op">)</span> <span class="op">|&gt;</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="drop_pcos.html">drop_pcos</a></span><span class="op">(</span><span class="va">register_data</span><span class="op">$</span><span class="va">bef</span><span class="op">)</span> <span class="op">|&gt;</span></span></span>
<span class="r-in"><span>  <span class="fu">drop_pregnancies</span><span class="op">(</span></span></span>
<span class="r-in"><span>    <span class="fu"><a href="keep_pregnancy_dates.html">keep_pregnancy_dates</a></span><span class="op">(</span><span class="va">lpr2</span>, <span class="va">lpr3</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>    <span class="fu"><a href="keep_hba1c.html">keep_hba1c</a></span><span class="op">(</span><span class="va">register_data</span><span class="op">$</span><span class="va">lab_forsker</span><span class="op">)</span></span></span>
<span class="r-in"><span>  <span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span> <span class="co"># }</span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Signe Kirk Brødbæk, Anders Aasted Isaksen, Luke William Johnston.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer></div>





  </body></html>

