register,name,title,logic,comments
lab_forsker,hba1c,HbA1c inclusion,(analysiscode == 'NPU27300' AND value >= 48) OR (analysiscode == 'NPU03835' AND value >= 6.5),Is the IFCC units for NPU27300 and DCCT units for NPU03835.
lmdb,gld,Glucose-lowering drug inclusion,atc =~ '^A10' AND !(atc =~ '^(A10BJ|A10BK01|A10BK03)'),Do not keep GLP-RAs or dapagliflozin/empagliflozin drugs.
lpr_diag,lpr2,Relevant LPR2 diagnoses codes,c_diag =~ '^(DO0[0-6]|DO8[0-4]|DZ3[37]|DE1[0-4]|249|250)' AND (c_diagtype == 'A' OR c_diagtype == 'B'),'A' `c_diagtype` means primary diagnosis.
lpr_diag,lpr2_has_t1d,LPR2 diagnoses codes for T1D,c_diag =~ '^(DE10|249)',
lpr_diag,lpr2_has_t2d,LPR2 diagnoses codes for T2D,c_diag =~ '^(DE11|250)',
lpr_diag,lpr2_has_pregnancy_event,LPR2 diagnoses codes for pregnancy-related outcomes,c_diag =~ '^(DO0[0-6]|DO8[0-4]|DZ3[37])',These are recorded pregnancy endings like live births and miscarriages.
lpr_adm,lpr2_is_endocrinology_department,LPR2 endocrinology department,"na_if(c_spec, !(c_spec %in% 8:30)) == 8",`TRUE` when the department is endocrinology,`FALSE` when it is other medical departments, and missing is all other cases.
kontakter,lpr3_is_endocrinology_department,LPR3 endocrinology department,"na_if(hovedspeciale_ans, !(hovedspeciale_ans %in% c('medicinsk endokrinologi', 'blandet medicin og kirurgi', 'intern medicin', 'geriatri', 'hepatologi', 'hÃ¦matologi', 'infektionsmedicin', 'kardiologi', 'medicinsk allergologi', 'medicinsk gastroenterologi', 'medicinsk lungesygdomme', 'nefrologi', 'reumatologi', 'palliativ medicin', 'akut medicin', 'dermato-venerologi', 'neurologi', 'onkologi', 'fysiurgi', 'tropemedicin'))) == 'medicinsk endokrinologi'",`TRUE` when the department is endocrinology, `FALSE` when it is other medical departments, and missing in all other cases.
diagnoser,lpr3,Relevant LPR3 diagnoses codes,diagnosekode =~ '^(DO0[0-6]|DO8[0-4]|DZ3[37]|DE1[0-4])' AND (diagnosetype == 'A' OR diagnosetype == 'B') AND (senere_afkraeftet == "Nej"),'A' `diagnosekode` means primary diagnosis and `senere_afkraeftet` means diagnosis was later retracted.
diagnoser,lpr3_has_t1d,LPR3 diagnoses codes for T1D,diagnosekode =~ '^(DE10)',
diagnoser,lpr3_has_t2d,LPR3 diagnoses codes for T2D,diagnosekode =~ '^(DE11)',
,no_pregnancy,Remove events within a potential pregnancy period,!(has_pregnancy_event AND has_elevated_hba1c AND (date >= (pregnancy_event_date - weeks(40)) OR date <= (pregnancy_event_date + weeks(12)))),
,podiatrist_services,speciale =~ '^54' AND barnmak != 0,`barnmak` means the services were provided to a child of the individual.
,no_potential_pcos,"koen == 2 AND atc =~ '^A10BA02$' AND ((date - foed_dato) < 40 OR indication_code %in% c('0000092', '0000276', '0000781'))",Woman is defined as 2 in `koen`.
